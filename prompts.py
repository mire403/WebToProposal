"""LLM Prompt 模板"""

EXTRACTION_PROMPT = """你是一个专业的信息提取助手。请从以下网页内容中提取关键信息。

网页标题：{title}
网页URL：{url}

网页内容：
{content}

请提取以下信息：
1. 关键事实：重要的事件、数据、政策、趋势等
2. 重要论述：核心观点、分析、判断等
3. 问题描述：提到的挑战、困难、问题等

输出格式（JSON）：
{{
    "key_facts": ["事实1", "事实2", ...],
    "key_arguments": ["论述1", "论述2", ...],
    "problems": ["问题1", "问题2", ...]
}}

只提取网页中明确提到的内容，不要编造或推测。"""


MERGE_PROMPT = """你是一个专业的信息整合助手。请将多个网页的信息进行融合和去重。

以下是 {count} 个网页提取的关键信息：

{extracted_info}

请完成以下任务：
1. 识别共性信息：找出多个网页都提到的相同或相似内容
2. 去除重复：合并重复的信息点
3. 识别不同视角：保留不同来源的独特观点
4. 归纳整理：将信息按主题分类

输出格式（JSON）：
{{
    "common_info": {{
        "facts": ["共同事实1", "共同事实2", ...],
        "arguments": ["共同观点1", "共同观点2", ...],
        "problems": ["共同问题1", "共同问题2", ...]
    }},
    "unique_info": {{
        "facts": ["独特事实1", "独特事实2", ...],
        "arguments": ["独特观点1", "独特观点2", ...],
        "problems": ["独特问题1", "独特问题2", ...]
    }},
    "themes": ["主题1", "主题2", ...]
}}

只基于提供的信息进行整理，不要添加新内容。"""


PLANNING_PROMPT = """你是一个专业的方案规划助手。基于整合后的网页信息，规划一份方案的结构。

整合后的信息：
{merged_info}

请规划方案结构，包含以下四个部分：
1. 背景（Background）：基于信息中的事实和背景描述
2. 现状分析（Current Situation）：基于信息中的现状描述和分析
3. 核心问题总结（Key Problems）：基于信息中提到的问题
4. 可行方案建议（Proposed Solutions）：基于信息中的建议和方案思路

输出格式（JSON）：
{{
    "background": {{
        "main_points": ["要点1", "要点2", ...],
        "key_facts": ["关键事实1", "关键事实2", ...]
    }},
    "current_situation": {{
        "main_points": ["要点1", "要点2", ...],
        "analysis": ["分析1", "分析2", ...]
    }},
    "key_problems": {{
        "problems": ["问题1", "问题2", ...],
        "impact": ["影响1", "影响2", ...]
    }},
    "proposed_solutions": {{
        "solutions": ["方案1", "方案2", ...],
        "rationale": ["理由1", "理由2", ...]
    }}
}}

所有内容必须基于提供的信息，不要编造。"""


WRITING_PROMPT = """你是一个专业的方案撰写助手。请根据规划的结构，撰写一份正式的方案文档。

规划结构：
{plan}

请撰写完整的方案文档，要求：
1. 风格正式、客观、条理清晰
2. 适合办公场景使用
3. 每个部分包含段落和条列
4. 语言简洁、准确
5. 可直接修改使用

输出格式（Markdown）：
# 方案标题

## 一、背景

[段落描述]

- [要点1]
- [要点2]

## 二、现状分析

[段落描述]

- [要点1]
- [要点2]

## 三、核心问题总结

[段落描述]

- [问题1]
- [问题2]

## 四、可行方案建议

[段落描述]

- [方案1]
- [方案2]

只基于规划结构中的内容撰写，不要添加新信息。"""
